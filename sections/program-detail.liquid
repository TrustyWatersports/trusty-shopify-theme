<!-- Program Hero -->
<section style="position: relative; padding: 100px 20px; text-align: center; color: white; overflow: hidden; min-height: 400px; display: flex; align-items: center; justify-content: center;">
  {% if section.settings.hero_image %}
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-image: url('{{ section.settings.hero_image | img_url: '2048x' }}'); background-size: cover; background-position: center; opacity: {{ section.settings.image_opacity | divided_by: 100.0 }}; z-index: 0;"></div>
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, {{ section.settings.hero_color_start }} 0%, {{ section.settings.hero_color_end }} 100%); opacity: {{ section.settings.overlay_opacity | divided_by: 100.0 }}; z-index: 1;"></div>
  {% else %}
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, {{ section.settings.hero_color_start }} 0%, {{ section.settings.hero_color_end }} 100%); z-index: 0;"></div>
  {% endif %}
  <div style="position: relative; z-index: 2; max-width: 800px; margin: 0 auto;">
    <div style="font-size: 3.5rem; margin-bottom: 1rem;">{{ section.settings.hero_icon }}</div>
    <h1 style="font-size: 3rem; font-weight: 800; margin-bottom: 1rem;">{{ section.settings.program_name }}</h1>
    <p style="font-size: 1.3rem; opacity: 0.95; max-width: 600px; margin: 0 auto 2rem;">{{ section.settings.program_tagline }}</p>
    {% if section.settings.cta_text != blank %}
      <a href="{{ section.settings.cta_link }}" style="background: white; color: {{ section.settings.hero_color_start }}; padding: 14px 32px; border-radius: 8px; text-decoration: none; font-weight: 700; font-size: 16px; display: inline-block;">{{ section.settings.cta_text }}</a>
    {% endif %}
  </div>
</section>

<!-- Program Overview -->
{% if section.settings.overview != blank %}
<section style="padding: 60px 20px; max-width: 900px; margin: 0 auto; text-align: center;">
  <p style="font-size: 1.2rem; line-height: 1.8; color: #444;">{{ section.settings.overview }}</p>
</section>
{% endif %}

<!-- Tiers / Levels -->
{% assign tier_blocks = section.blocks | where: "type", "tier" %}
{% if tier_blocks.size > 0 %}
<section style="padding: 20px 20px 60px; background: #F5F7FA;">
  <div style="max-width: 1100px; margin: 0 auto;">
    <h2 style="text-align: center; font-size: 2rem; color: #0A4B78; margin-bottom: 10px;">{{ section.settings.tiers_heading }}</h2>
    <p style="text-align: center; color: #666; margin-bottom: 40px;">{{ section.settings.tiers_subheading }}</p>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px;">
      {% for block in section.blocks %}
        {% if block.type == 'tier' %}
          <div style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 16px rgba(0,0,0,0.08); border-top: 5px solid {{ block.settings.tier_color }};" {{ block.shopify_attributes }}>
            <div style="padding: 30px 28px;">
              <div style="font-size: 2.5rem; margin-bottom: 12px;">{{ block.settings.tier_icon }}</div>
              <h3 style="font-size: 1.4rem; font-weight: 700; color: #0A4B78; margin-bottom: 6px;">{{ block.settings.tier_name }}</h3>
              <p style="color: #666; font-size: 0.95rem; margin-bottom: 20px;">{{ block.settings.tier_description }}</p>
              {% if block.settings.tier_price != blank %}
                <div style="font-size: 1.5rem; font-weight: 800; color: {{ block.settings.tier_color }}; margin-bottom: 20px;">{{ block.settings.tier_price }}</div>
              {% endif %}
              <ul style="list-style: none; padding: 0; margin: 0 0 24px;">
                {% if block.settings.detail_1 != blank %}<li style="padding: 6px 0; border-bottom: 1px solid #f0f0f0; color: #444; font-size: 0.95rem;">&#10003; {{ block.settings.detail_1 }}</li>{% endif %}
                {% if block.settings.detail_2 != blank %}<li style="padding: 6px 0; border-bottom: 1px solid #f0f0f0; color: #444; font-size: 0.95rem;">&#10003; {{ block.settings.detail_2 }}</li>{% endif %}
                {% if block.settings.detail_3 != blank %}<li style="padding: 6px 0; border-bottom: 1px solid #f0f0f0; color: #444; font-size: 0.95rem;">&#10003; {{ block.settings.detail_3 }}</li>{% endif %}
                {% if block.settings.detail_4 != blank %}<li style="padding: 6px 0; border-bottom: 1px solid #f0f0f0; color: #444; font-size: 0.95rem;">&#10003; {{ block.settings.detail_4 }}</li>{% endif %}
                {% if block.settings.detail_5 != blank %}<li style="padding: 6px 0; color: #444; font-size: 0.95rem;">&#10003; {{ block.settings.detail_5 }}</li>{% endif %}
              </ul>
              {% if block.settings.button_text != blank %}
                <a href="{{ block.settings.button_link }}" style="display: block; text-align: center; background: {{ block.settings.tier_color }}; color: white; padding: 12px 20px; border-radius: 6px; text-decoration: none; font-weight: 700;">{{ block.settings.button_text }}</a>
              {% endif %}
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<!-- Info Blocks -->
{% assign info_blocks = section.blocks | where: "type", "info_block" %}
{% if info_blocks.size > 0 %}
<section style="padding: 60px 20px;">
  <div style="max-width: 1100px; margin: 0 auto;">
    <h2 style="text-align: center; font-size: 2rem; color: #0A4B78; margin-bottom: 40px;">{{ section.settings.info_heading }}</h2>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 24px;">
      {% for block in section.blocks %}
        {% if block.type == 'info_block' %}
          <div style="background: white; border-radius: 12px; padding: 28px; box-shadow: 0 2px 8px rgba(0,0,0,0.06); border-left: 4px solid {{ block.settings.block_color }};" {{ block.shopify_attributes }}>
            <div style="font-size: 2rem; margin-bottom: 12px;">{{ block.settings.block_icon }}</div>
            <h3 style="font-size: 1.1rem; font-weight: 700; color: #0A4B78; margin-bottom: 10px;">{{ block.settings.block_title }}</h3>
            <p style="color: #555; line-height: 1.7; font-size: 0.95rem;">{{ block.settings.block_content }}</p>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

<!-- Bottom CTA -->
<section style="padding: 60px 20px; background: linear-gradient(135deg, {{ section.settings.hero_color_start }}, {{ section.settings.hero_color_end }}); text-align: center; color: white;">
  <div style="max-width: 700px; margin: 0 auto;">
    <h2 style="font-size: 2rem; margin-bottom: 16px;">{{ section.settings.bottom_cta_heading }}</h2>
    <p style="font-size: 1.1rem; opacity: 0.9; margin-bottom: 30px;">{{ section.settings.bottom_cta_text }}</p>
    <div style="display: flex; gap: 16px; justify-content: center; flex-wrap: wrap;">
      {% if section.settings.bottom_primary_text != blank %}
        <a href="{{ section.settings.bottom_primary_link }}" style="background: white; color: {{ section.settings.hero_color_start }}; padding: 14px 28px; border-radius: 8px; text-decoration: none; font-weight: 700;">{{ section.settings.bottom_primary_text }}</a>
      {% endif %}
      {% if section.settings.bottom_secondary_text != blank %}
        <a href="{{ section.settings.bottom_secondary_link }}" style="background: transparent; color: white; border: 2px solid white; padding: 14px 28px; border-radius: 8px; text-decoration: none; font-weight: 700;">{{ section.settings.bottom_secondary_text }}</a>
      {% endif %}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Program Detail",
  "settings": [
    { "type": "header", "content": "Hero" },
    { "type": "text", "id": "program_name", "label": "Program Name", "default": "Program Name" },
    { "type": "text", "id": "hero_icon", "label": "Icon (emoji)", "default": "üö£" },
    { "type": "textarea", "id": "program_tagline", "label": "Tagline" },
    { "type": "text", "id": "cta_text", "label": "Hero Button Text", "default": "Register Now" },
    { "type": "url", "id": "cta_link", "label": "Hero Button Link" },
    { "type": "image_picker", "id": "hero_image", "label": "Background Photo" },
    { "type": "range", "id": "image_opacity", "label": "Photo Visibility", "min": 0, "max": 100, "step": 5, "default": 70, "unit": "%" },
    { "type": "range", "id": "overlay_opacity", "label": "Color Overlay Strength", "min": 0, "max": 100, "step": 5, "default": 55, "unit": "%" },
    { "type": "color", "id": "hero_color_start", "label": "Gradient Start", "default": "#0A4B78" },
    { "type": "color", "id": "hero_color_end", "label": "Gradient End", "default": "#1E6FA8" },
    { "type": "header", "content": "Overview" },
    { "type": "textarea", "id": "overview", "label": "Program Overview Text" },
    { "type": "header", "content": "Tiers / Levels Section" },
    { "type": "text", "id": "tiers_heading", "label": "Tiers Heading", "default": "Program Levels" },
    { "type": "text", "id": "tiers_subheading", "label": "Tiers Subheading" },
    { "type": "header", "content": "Info Section" },
    { "type": "text", "id": "info_heading", "label": "Info Heading", "default": "What to Know" },
    { "type": "header", "content": "Bottom CTA" },
    { "type": "text", "id": "bottom_cta_heading", "label": "CTA Heading", "default": "Ready to Join?" },
    { "type": "textarea", "id": "bottom_cta_text", "label": "CTA Text" },
    { "type": "text", "id": "bottom_primary_text", "label": "Primary Button Text" },
    { "type": "url", "id": "bottom_primary_link", "label": "Primary Button Link" },
    { "type": "text", "id": "bottom_secondary_text", "label": "Secondary Button Text" },
    { "type": "url", "id": "bottom_secondary_link", "label": "Secondary Button Link" }
  ],
  "blocks": [
    {
      "type": "tier",
      "name": "Program Tier / Level",
      "settings": [
        { "type": "text", "id": "tier_icon", "label": "Icon (emoji)", "default": "üéØ" },
        { "type": "text", "id": "tier_name", "label": "Tier Name", "default": "Level 1" },
        { "type": "textarea", "id": "tier_description", "label": "Description" },
        { "type": "text", "id": "tier_price", "label": "Price (optional)" },
        { "type": "color", "id": "tier_color", "label": "Accent Color", "default": "#0A4B78" },
        { "type": "text", "id": "detail_1", "label": "Detail 1" },
        { "type": "text", "id": "detail_2", "label": "Detail 2" },
        { "type": "text", "id": "detail_3", "label": "Detail 3" },
        { "type": "text", "id": "detail_4", "label": "Detail 4" },
        { "type": "text", "id": "detail_5", "label": "Detail 5" },
        { "type": "text", "id": "button_text", "label": "Button Text", "default": "Register" },
        { "type": "url", "id": "button_link", "label": "Button Link" }
      ]
    },
    {
      "type": "info_block",
      "name": "Info Block",
      "settings": [
        { "type": "text", "id": "block_icon", "label": "Icon (emoji)", "default": "‚ÑπÔ∏è" },
        { "type": "text", "id": "block_title", "label": "Title" },
        { "type": "textarea", "id": "block_content", "label": "Content" },
        { "type": "color", "id": "block_color", "label": "Accent Color", "default": "#0A4B78" }
      ]
    }
  ],
  "presets": [{ "name": "Program Detail" }]
}
{% endschema %}
