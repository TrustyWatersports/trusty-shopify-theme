<section class="cr-options">
  <div class="container">
    {% if section.settings.heading != blank %}
      <div class="cr-options__head">
        <h2 class="cr-options__title">{{ section.settings.heading | escape }}</h2>
        {% if section.settings.subheading != blank %}
          <p class="cr-options__sub">{{ section.settings.subheading }}</p>
        {% endif %}
      </div>
    {% endif %}

    <div class="cr-options__grid">
      {% for block in section.blocks %}
        <div class="cr-card" {{ block.shopify_attributes }}>
          <div class="cr-card__media">
            {% if block.settings.image != blank %}
              <img
                src="{{ block.settings.image | image_url: width: 1400 }}"
                alt="{{ block.settings.image.alt | escape }}"
                loading="lazy"
              >
            {% else %}
              <div class="cr-card__placeholder"></div>
            {% endif %}
            {% if block.settings.badge != blank %}
              <div class="cr-card__badge">{{ block.settings.badge | escape }}</div>
            {% endif %}
          </div>

          <div class="cr-card__body">
            <h3 class="cr-card__title">{{ block.settings.title | escape }}</h3>
            {% if block.settings.price != blank %}
              <div class="cr-card__price">{{ block.settings.price | escape }}</div>
            {% endif %}
            {% if block.settings.description != blank %}
              <p class="cr-card__desc">{{ block.settings.description }}</p>
            {% endif %}

            {% if block.settings.link != blank and block.settings.button_text != blank %}
              <a class="cr-card__btn" href="{{ block.settings.link }}">{{ block.settings.button_text | escape }}</a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .container{max-width:1400px;margin:0 auto;padding:0 20px;}
  .cr-options{padding:72px 0;background:{{ section.settings.bg_color }};}
  .cr-options__head{max-width:900px;margin:0 auto 26px;text-align:center;}
  .cr-options__title{font-size:42px;line-height:1.1;margin:0 0 10px;color:#0A4B78;font-weight:900;}
  .cr-options__sub{margin:0;color:rgba(0,0,0,.55);font-size:18px;}
  @media (max-width:768px){.cr-options__title{font-size:30px}.cr-options{padding:50px 0}}

  .cr-options__grid{display:grid;grid-template-columns:repeat(3, minmax(0, 1fr));gap:18px;}
  @media (max-width: 1024px){.cr-options__grid{grid-template-columns:repeat(2, minmax(0, 1fr));}}
  @media (max-width: 640px){.cr-options__grid{grid-template-columns:1fr;}}

  .cr-card{background:#fff;border-radius:14px;overflow:hidden;box-shadow:0 8px 26px rgba(0,0,0,.08);display:flex;flex-direction:column;}
  .cr-card__media{position:relative;aspect-ratio:16/10;background:#eaf2f8;}
  .cr-card__media img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;}
  .cr-card__placeholder{position:absolute;inset:0;background:linear-gradient(135deg,#1B3A52,#4A9CD6);opacity:.35;}
  .cr-card__badge{position:absolute;left:12px;top:12px;background:#00A86B;color:#fff;padding:6px 10px;border-radius:999px;font-weight:800;font-size:12px;}

  .cr-card__body{padding:18px;display:flex;flex-direction:column;gap:10px;}
  .cr-card__title{margin:0;font-size:20px;font-weight:900;color:#1B3A52;}
  .cr-card__price{font-weight:900;color:#FF6B35;}
  .cr-card__desc{margin:0;color:rgba(0,0,0,.65);line-height:1.55;}
  .cr-card__btn{margin-top:auto;display:inline-flex;justify-content:center;align-items:center;padding:12px 14px;border-radius:10px;
    background:#0A4B78;color:#fff;text-decoration:none;font-weight:900;transition:transform .2s ease, box-shadow .2s ease;}
  .cr-card__btn:hover{transform:translateY(-1px);box-shadow:0 10px 24px rgba(10,75,120,.25);}
</style>

{% schema %}
{
  "name": "Custom Rigging Options Grid",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Rigging Options" },
    { "type": "textarea", "id": "subheading", "label": "Subheading", "default": "Pick a starting point — we’ll help you dial it in for your waters, your style, and your budget." },
    { "type": "color", "id": "bg_color", "label": "Background color", "default": "#F5F7FA" }
  ],
  "blocks": [
    {
      "type": "option",
      "name": "Option Card",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Card image" },
        { "type": "text", "id": "badge", "label": "Badge (optional)", "default": "Popular" },
        { "type": "text", "id": "title", "label": "Title", "default": "Tournament Ready Package" },
        { "type": "text", "id": "price", "label": "Price text (optional)", "default": "From $1,499" },
        { "type": "textarea", "id": "description", "label": "Description", "default": "Pro wiring, electronics, clean install, and a layout that fishes fast." },
        { "type": "text", "id": "button_text", "label": "Button text", "default": "Request a Quote" },
        { "type": "url", "id": "link", "label": "Button link", "default": "/pages/contact" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Rigging Options Grid",
      "blocks": [{ "type": "option" }, { "type": "option" }, { "type": "option" }]
    }
  ]
}
{% endschema %}
