<section style="padding: 80px 20px; background: {{ section.settings.background_color }};">
  <div style="max-width: 1200px; margin: 0 auto;">
    <div style="text-align: center; margin-bottom: 50px;">
      <h2 style="font-size: 38px; font-weight: 800; color: var(--ocean-deep); margin-bottom: 15px;">{{ section.settings.heading }}</h2>
      <p style="font-size: 18px; color: var(--gray-medium);">{{ section.settings.subheading }}</p>
    </div>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 50px;">
      {% for block in section.blocks %}
        <div {{ block.shopify_attributes }} style="background: {% if block.settings.featured %}linear-gradient(135deg, var(--rigging-accent) 0%, #00C77F 100%){% else %}var(--gray-light){% endif %}; padding: 30px; border-radius: 12px; {% if block.settings.featured %}color: white;{% else %}border-top: 4px solid var(--ocean-medium);{% endif %} position: relative;">
          {% if block.settings.featured %}<div style="position: absolute; top: -12px; right: 20px; background: var(--sunrise); color: white; padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: 700;">POPULAR</div>{% endif %}
          {% if block.settings.image != blank %}
            <div style="margin-bottom: 20px; border-radius: 8px; overflow: hidden;">
              {{ block.settings.image | image_url: width: 600 | image_tag: loading: 'lazy', style: 'width:100%; height:200px; object-fit:cover; display:block;' }}
            </div>
          {% endif %}
          <h3 style="font-size: 24px; margin-bottom: 15px; {% unless block.settings.featured %}color: var(--ocean-deep);{% endunless %}">{{ block.settings.name }}</h3>
          <div style="font-size: 36px; font-weight: 700; margin-bottom: 5px;">{{ block.settings.half_day_price }}</div>
          <div style="{% unless block.settings.featured %}color: var(--gray-medium);{% else %}opacity:0.9;{% endunless %} margin-bottom: 20px;">Half Day ({{ block.settings.half_day_hours }} hours)</div>
          <ul style="list-style: none; padding: 0; margin-bottom: 20px;">
            {% if block.settings.feature_1 != blank %}<li style="padding: 8px 0;">âœ“ {{ block.settings.feature_1 }}</li>{% endif %}
            {% if block.settings.feature_2 != blank %}<li style="padding: 8px 0;">âœ“ {{ block.settings.feature_2 }}</li>{% endif %}
            {% if block.settings.feature_3 != blank %}<li style="padding: 8px 0;">âœ“ {{ block.settings.feature_3 }}</li>{% endif %}
          </ul>
          {% if block.settings.full_day_price != blank %}
            <div style="margin-top: 15px; padding-top: 15px; border-top: 1px solid {% if block.settings.featured %}rgba(255,255,255,0.3){% else %}#ddd{% endif %};">
              <strong>Full Day:</strong> {{ block.settings.full_day_price }}
            </div>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    {% if section.settings.try_before_buy_text != blank %}
      <div style="background: var(--ocean-light); color: white; padding: 25px; border-radius: 12px; text-align: center;">
        <h4 style="font-size: 20px; margin-bottom: 10px;">ðŸ’¡ Try Before You Buy Program</h4>
        <p style="font-size: 16px; opacity: 0.95;">{{ section.settings.try_before_buy_text }}</p>
      </div>
    {% endif %}
  </div>
</section>

{% schema %}
{
  "name": "Rental Pricing",
  "settings": [
    { "type": "text", "id": "heading", "label": "Heading", "default": "Kayak Rentals" },
    { "type": "text", "id": "subheading", "label": "Subheading", "default": "All rentals include paddle, PFD, and basic instruction" },
    { "type": "color", "id": "background_color", "label": "Background color", "default": "#FFFFFF" },
    { "type": "textarea", "id": "try_before_buy_text", "label": "Try Before You Buy text", "default": "Love what you rented? Your rental fee credits toward purchasing that kayak!" }
  ],
  "blocks": [{
    "type": "rental",
    "name": "Rental Option",
    "settings": [
      { "type": "image_picker", "id": "image", "label": "Photo (optional)" },
      { "type": "text", "id": "name", "label": "Kayak name", "default": "Single Kayak" },
      { "type": "text", "id": "half_day_price", "label": "Half day price", "default": "$40" },
      { "type": "text", "id": "half_day_hours", "label": "Half day hours", "default": "4" },
      { "type": "text", "id": "full_day_price", "label": "Full day price", "default": "$60" },
      { "type": "text", "id": "feature_1", "label": "Feature 1", "default": "Recreational or touring kayaks" },
      { "type": "text", "id": "feature_2", "label": "Feature 2", "default": "Perfect for solo paddling" },
      { "type": "text", "id": "feature_3", "label": "Feature 3", "default": "Great for exploration" },
      { "type": "checkbox", "id": "featured", "label": "Featured (green highlight)", "default": false }
    ]
  }],
  "presets": [{ "name": "Rental Pricing" }]
}
{% endschema %}
