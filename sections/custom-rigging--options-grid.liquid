<section class="cr-options-grid">
  <div class="page-width">
    {% if section.settings.section_heading != blank %}
      <h2 class="cr-options-grid__heading">{{ section.settings.section_heading }}</h2>
    {% endif %}

    <div class="cr-options-grid__grid">
      {% for block in section.blocks %}
        <div class="cr-options-grid__card" {{ block.shopify_attributes }}>
          {% if block.settings.image != blank %}
            <div class="cr-options-grid__image">
              {{ block.settings.image | image_url: width: 1200 | image_tag: loading: "lazy", class: "cr-options-grid__img" }}
            </div>
          {% endif %}

          <div class="cr-options-grid__content">
            <h3 class="cr-options-grid__title">{{ block.settings.title }}</h3>
            {% if block.settings.description != blank %}
              <p class="cr-options-grid__desc">{{ block.settings.description }}</p>
            {% endif %}

            {% if block.settings.cta_text != blank and block.settings.cta_link != blank %}
              <a class="cr-options-grid__cta" href="{{ block.settings.cta_link }}">{{ block.settings.cta_text }}</a>
            {% endif %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</section>

<style>
  .cr-options-grid { padding: 42px 0; }
  .cr-options-grid__heading { text-align: center; margin: 0 0 22px 0; font-weight: 800; font-size: 34px; color: #0B3A66; }
  .cr-options-grid__grid { display: grid; gap: 18px; grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .cr-options-grid__card { border-radius: 16px; overflow: hidden; background: #fff; box-shadow: 0 8px 22px rgba(0,0,0,.08); }
  .cr-options-grid__image { height: 220px; }
  .cr-options-grid__img { width: 100%; height: 100%; object-fit: cover; display: block; }
  .cr-options-grid__content { padding: 18px; }
  .cr-options-grid__title { margin: 0 0 8px 0; font-size: 18px; font-weight: 800; }
  .cr-options-grid__desc { margin: 0 0 10px 0; color: rgba(0,0,0,.7); }
  .cr-options-grid__cta { display: inline-block; padding: 10px 12px; border-radius: 10px; font-weight: 800; text-decoration: none; background: #10b981; color: #fff; }
  @media (max-width: 990px) { .cr-options-grid__grid { grid-template-columns: 1fr; } }
</style>

{% schema %}
{
  "name": "Rigging Options Grid",
  "settings": [
    { "type": "text", "id": "section_heading", "label": "Heading", "default": "Choose Your Rig" }
  ],
  "blocks": [
    {
      "type": "option",
      "name": "Option",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Image" },
        { "type": "text", "id": "title", "label": "Title", "default": "Tournament Package" },
        { "type": "textarea", "id": "description", "label": "Description", "default": "Electronics, power management, mounts, and pro wiring." },
        { "type": "text", "id": "cta_text", "label": "Button text", "default": "View Details" },
        { "type": "url", "id": "cta_link", "label": "Button link" }
      ]
    }
  ],
  "presets": [
    { "name": "Rigging Options Grid", "blocks": [{ "type": "option" }, { "type": "option" }, { "type": "option" }] }
  ]
}
{% endschema %}
