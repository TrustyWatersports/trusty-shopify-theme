<section style="padding: 80px 20px; background: {{ section.settings.background_color }};">
  <div style="max-width: 1200px; margin: 0 auto;">

    <div style="text-align: center; margin-bottom: 50px;">
      <div style="display: inline-block; background: #D32F2F; color: white; padding: 6px 18px; border-radius: 20px; font-size: 13px; font-weight: 700; letter-spacing: 1px; margin-bottom: 16px;">{{ section.settings.badge }}</div>
      <h2 style="font-size: 38px; font-weight: 800; color: #0A4B78; margin-bottom: 15px;">{{ section.settings.heading }}</h2>
      <p style="font-size: 18px; color: #666; max-width: 650px; margin: 0 auto;">{{ section.settings.subheading }}</p>
    </div>

    <!-- Sailboat Cards -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; margin-bottom: 40px;">
      {% for block in section.blocks %}
        {% if block.type == 'sailboat' %}
          <div {{ block.shopify_attributes }} style="background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 16px rgba(0,0,0,0.1); border-top: 4px solid #D32F2F; position: relative;">

            {% if block.settings.featured %}
              <div style="position: absolute; top: -12px; right: 20px; background: #D32F2F; color: white; padding: 4px 14px; border-radius: 20px; font-size: 12px; font-weight: 700; z-index: 1;">MOST POPULAR</div>
            {% endif %}

            {% if block.settings.image != blank %}
              <div style="overflow: hidden; height: 200px;">
                {{ block.settings.image | image_url: width: 600 | image_tag: loading: 'lazy', style: 'width:100%; height:200px; object-fit:cover; display:block;' }}
              </div>
            {% else %}
              <div style="height: 140px; background: linear-gradient(135deg, #0A4B78, #1E6FA8); display: flex; align-items: center; justify-content: center; font-size: 60px;">â›µ</div>
            {% endif %}

            <div style="padding: 28px;">
              <h3 style="font-size: 24px; font-weight: 800; color: #0A4B78; margin-bottom: 6px;">{{ block.settings.name }}</h3>
              <p style="color: #666; font-size: 14px; margin-bottom: 20px; font-style: italic;">{{ block.settings.tagline }}</p>

              <div style="font-size: 40px; font-weight: 800; color: #D32F2F; line-height: 1;">{{ block.settings.day_price }}</div>
              <div style="color: #888; font-size: 14px; margin-bottom: 20px;">Per day, includes delivery</div>

              <ul style="list-style: none; padding: 0; margin: 0 0 20px; display: flex; flex-direction: column; gap: 8px;">
                {% if block.settings.feature_1 != blank %}<li style="color: #444; font-size: 15px;">âœ“ {{ block.settings.feature_1 }}</li>{% endif %}
                {% if block.settings.feature_2 != blank %}<li style="color: #444; font-size: 15px;">âœ“ {{ block.settings.feature_2 }}</li>{% endif %}
                {% if block.settings.feature_3 != blank %}<li style="color: #444; font-size: 15px;">âœ“ {{ block.settings.feature_3 }}</li>{% endif %}
                {% if block.settings.feature_4 != blank %}<li style="color: #444; font-size: 15px;">âœ“ {{ block.settings.feature_4 }}</li>{% endif %}
              </ul>

              {% if block.settings.lesson_price != blank %}
                <div style="background: #f0f7ff; border-left: 3px solid #0A4B78; padding: 12px 16px; border-radius: 0 6px 6px 0; margin-bottom: 20px;">
                  <div style="font-weight: 700; color: #0A4B78; font-size: 14px;">âž• Add Sailing Lesson</div>
                  <div style="color: #555; font-size: 14px; margin-top: 3px;">{{ block.settings.lesson_price }} per hour with certified instructor</div>
                </div>
              {% endif %}

              <a href="{{ block.settings.cta_link }}" style="display: block; background: #0A4B78; color: white; text-align: center; padding: 14px; border-radius: 6px; text-decoration: none; font-weight: 700; font-size: 15px;">{{ block.settings.cta_text }}</a>
            </div>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <!-- Lesson Add-On Callout -->
    {% if section.settings.show_lesson_callout %}
      <div style="background: linear-gradient(135deg, #0A4B78, #1E6FA8); color: white; padding: 40px; border-radius: 12px; display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 24px;">
        <div>
          <div style="font-size: 32px; margin-bottom: 10px;">ðŸŽ“</div>
          <h3 style="font-size: 24px; font-weight: 800; margin-bottom: 8px;">{{ section.settings.lesson_heading }}</h3>
          <p style="opacity: 0.9; font-size: 16px; max-width: 500px; line-height: 1.6;">{{ section.settings.lesson_description }}</p>
        </div>
        <div style="text-align: center; flex-shrink: 0;">
          <div style="font-size: 42px; font-weight: 800; color: #00A86B;">{{ section.settings.lesson_rate }}</div>
          <div style="opacity: 0.85; margin-bottom: 16px;">per hour</div>
          <a href="{{ section.settings.lesson_cta_link }}" style="display: inline-block; background: white; color: #0A4B78; padding: 12px 28px; border-radius: 6px; text-decoration: none; font-weight: 800; font-size: 15px;">{{ section.settings.lesson_cta_text }}</a>
        </div>
      </div>
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "Sailboat Rentals",
  "settings": [
    { "type": "text", "id": "badge", "label": "Badge text", "default": "SAILBOAT RENTALS" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "Sailboat Rentals" },
    { "type": "textarea", "id": "subheading", "label": "Subheading", "default": "Rent one of our Topaz sailboats and explore Bogue Sound. Delivery included. Add a certified sailing instructor for just $100/hr." },
    { "type": "color", "id": "background_color", "label": "Background color", "default": "#F5F7FA" },
    { "type": "checkbox", "id": "show_lesson_callout", "label": "Show lesson add-on callout", "default": true },
    { "type": "text", "id": "lesson_heading", "label": "Lesson callout heading", "default": "Add a Sailing Lesson" },
    { "type": "textarea", "id": "lesson_description", "label": "Lesson callout description", "default": "Never sailed before? Add a certified instructor to your rental for hands-on guidance. Perfect for beginners, families, or anyone wanting to brush up their skills on Bogue Sound." },
    { "type": "text", "id": "lesson_rate", "label": "Lesson rate display", "default": "$100/hr" },
    { "type": "text", "id": "lesson_cta_text", "label": "Lesson CTA text", "default": "Book a Lesson" },
    { "type": "url", "id": "lesson_cta_link", "label": "Lesson CTA link" }
  ],
  "blocks": [
    {
      "type": "sailboat",
      "name": "Sailboat",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Boat photo" },
        { "type": "text", "id": "name", "label": "Boat name", "default": "Topaz Uno" },
        { "type": "text", "id": "tagline", "label": "Tagline", "default": "Single-handed beginner dinghy" },
        { "type": "text", "id": "day_price", "label": "Day price", "default": "$225" },
        { "type": "text", "id": "feature_1", "label": "Feature 1", "default": "Solo sailing" },
        { "type": "text", "id": "feature_2", "label": "Feature 2", "default": "Beginner friendly" },
        { "type": "text", "id": "feature_3", "label": "Feature 3", "default": "Delivery included" },
        { "type": "text", "id": "feature_4", "label": "Feature 4" },
        { "type": "text", "id": "lesson_price", "label": "Lesson add-on price", "default": "$100" },
        { "type": "text", "id": "cta_text", "label": "Button text", "default": "Book This Boat" },
        { "type": "url", "id": "cta_link", "label": "Button link" },
        { "type": "checkbox", "id": "featured", "label": "Featured (Most Popular badge)", "default": false }
      ]
    }
  ],
  "presets": [{ "name": "Sailboat Rentals" }]
}
{% endschema %}
