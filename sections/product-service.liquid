<!-- Service product page: description hero + pricing + Calendly embed -->
<div class="container" style="padding: 40px 20px 80px;">

  <!-- Breadcrumbs -->
  <div style="margin-bottom: 30px; font-size: 14px;">
    <a href="/" style="color: var(--gray-medium); text-decoration: none;">Home</a>
    <span style="color: var(--gray-medium);"> / </span>
    <a href="/pages/rentals" style="color: var(--gray-medium); text-decoration: none;">Experiences</a>
    <span style="color: var(--gray-medium);"> / </span>
    <span style="color: var(--text-dark);">{{ product.title }}</span>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 60px; margin-bottom: 20px;" class="service-grid">

    <!-- Left: Image + details -->
    <div>
      {% if product.featured_image %}
        <div style="border-radius: 16px; overflow: hidden; margin-bottom: 25px;">
          <img src="{{ product.featured_image | image_url: width: 800 }}" alt="{{ product.title }}" style="width: 100%; height: auto; display: block;">
        </div>
      {% endif %}

      <h1 style="font-size: 32px; color: var(--ocean-deep); margin-bottom: 12px; line-height: 1.2;">{{ product.title }}</h1>

      <div style="font-size: 36px; font-weight: 700; color: var(--text-dark); margin-bottom: 20px;">
        {{ product.selected_or_first_available_variant.price | money }}
        {% if product.variants.size > 1 %}
          <span style="font-size: 16px; color: var(--gray-medium); font-weight: 400;">/ select option below</span>
        {% endif %}
      </div>

      {% if product.variants.size > 1 %}
        <div style="margin-bottom: 25px; background: var(--gray-light); padding: 20px; border-radius: 10px;">
          <label style="display: block; font-weight: 700; margin-bottom: 10px; color: var(--text-dark);">Select Option:</label>
          <div style="display: flex; flex-direction: column; gap: 10px;">
            {% for variant in product.variants %}
              <label style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: white; border-radius: 8px; border: 2px solid var(--gray-light); cursor: pointer;"
                     onmouseover="this.style.borderColor='var(--ocean-medium)'"
                     onmouseout="this.style.borderColor='var(--gray-light)'">
                <span style="font-weight: 600;">{{ variant.title }}</span>
                <span style="color: var(--rigging-accent); font-weight: 700;">{{ variant.price | money }}</span>
              </label>
            {% endfor %}
          </div>
        </div>
      {% endif %}

      <div style="font-size: 16px; line-height: 1.8; color: var(--gray-medium); margin-bottom: 25px;">
        {{ product.description }}
      </div>

      <!-- What's included -->
      <div style="background: var(--gray-light); border-radius: 12px; padding: 20px;">
        <h3 style="font-size: 16px; font-weight: 700; color: var(--ocean-deep); margin-bottom: 12px;">&#x2705; What's Included</h3>
        <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: 8px;">
          <li style="display: flex; gap: 8px; font-size: 14px;"><span style="color: var(--rigging-accent);">&#10003;</span> All safety equipment provided</li>
          <li style="display: flex; gap: 8px; font-size: 14px;"><span style="color: var(--rigging-accent);">&#10003;</span> Expert guidance from Crystal Coast locals</li>
          <li style="display: flex; gap: 8px; font-size: 14px;"><span style="color: var(--rigging-accent);">&#10003;</span> Waterfront launch access at 815 Shepard St</li>
          <li style="display: flex; gap: 8px; font-size: 14px;"><span style="color: var(--rigging-accent);">&#10003;</span> Confirmation email with full details</li>
        </ul>
      </div>
    </div>

    <!-- Right: Calendly embed -->
    <div>
      <div style="background: var(--gray-light); border-radius: 16px; padding: 30px; position: sticky; top: 20px;">
        <div style="text-align: center; margin-bottom: 20px;">
          <div style="font-size: 28px; margin-bottom: 8px;">&#x1F4C5;</div>
          <h2 style="font-size: 22px; color: var(--ocean-deep); margin-bottom: 6px;">Check Availability</h2>
          <p style="font-size: 14px; color: var(--gray-medium);">Pick your date &amp; time â€” payment completes after booking</p>
        </div>

        <!-- Step flow -->
        <div style="display: flex; justify-content: space-between; margin-bottom: 20px; padding: 12px 16px; background: white; border-radius: 8px; font-size: 12px; font-weight: 600; color: var(--gray-medium);">
          <span style="color: var(--rigging-accent);">1 Pick date &#x2713;</span>
          <span>&#x2192;</span>
          <span>2 Pay on Shopify</span>
          <span>&#x2192;</span>
          <span>3 Enjoy!</span>
        </div>

        <div class="calendly-inline-widget"
             data-url="{{ product.metafields.custom.calendly_url | default: 'https://calendly.com/trustywatersports' }}?hide_gdpr_banner=1&primary_color=00a86b&hide_event_type_details=1"
             style="min-width: 280px; height: 580px; border-radius: 8px; overflow: hidden;">
        </div>
        <script type="text/javascript" src="https://assets.calendly.com/assets/external/widget.js" async></script>

        <p style="text-align: center; margin-top: 12px; font-size: 12px; color: var(--gray-medium);">
          Can't find a time? Call <a href="tel:252-499-9911" style="color: var(--ocean-medium);">(252) 499-9911</a>
        </p>
      </div>
    </div>

  </div>

</div>

<style>
  @media (max-width: 768px) {
    .service-grid { grid-template-columns: 1fr !important; gap: 30px !important; }
  }
</style>
